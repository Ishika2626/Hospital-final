@{
    ViewData["Title"] = "Blood Bank Inventory";
    Layout = "~/Views/Shared/_StaffLayout.cshtml";
}
<a asp-controller="StaffHome" asp-action="BloodBankStaffDashboard" class="btn btn-secondary">⬅ Back to Dashboard</a>
<h2 class="text-center my-3">🩸 Blood Bank Inventory</h2>

<div class="container">
    <div class="d-flex justify-content-between flex-wrap mb-3">
       
        <input type="text" id="searchInput" class="form-control w-auto" placeholder="🔍 Search Blood Type">
        <button class="btn btn-primary" onclick="openModal('addBloodModal')">➕ Add Blood Unit</button>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-striped text-center" id="inventoryTable">
            <thead class="table-dark">
                <tr>
                    <th>#</th>
                    <th>Blood Type</th>
                    <th>Available Units</th>
                    <th>Expiration Date</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>A+</td>
                    <td>15</td>
                    <td>2025-04-10</td>
                    <td><span class="badge bg-success">Sufficient</span></td>
                    <td>
                        <button class="btn btn-sm btn-warning" onclick="openModal('editBloodModal')">✏ Edit</button>
                        <button class="btn btn-sm btn-danger">🗑 Delete</button>
                    </td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>O-</td>
                    <td>2</td>
                    <td>2025-03-20</td>
                    <td><span class="badge bg-danger">Low Stock</span></td>
                    <td>
                        <button class="btn btn-sm btn-warning" onclick="openModal('editBloodModal')">✏ Edit</button>
                        <button class="btn btn-sm btn-danger">🗑 Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Add Blood Unit Modal -->
<div id="addBloodModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('addBloodModal')">&times;</span>
        <h4 class="modal-title">➕ Add Blood Unit</h4>
        <label>Blood Type:</label>
        <select class="form-control">
            <option>A+</option>
            <option>A-</option>
            <option>B+</option>
            <option>B-</option>
            <option>O+</option>
            <option>O-</option>
            <option>AB+</option>
            <option>AB-</option>
        </select>
        <label>Available Units:</label>
        <input type="number" class="form-control" placeholder="Enter units">
        <label>Expiration Date:</label>
        <input type="date" class="form-control">
        <button class="btn btn-success mt-3">Save</button>
    </div>
</div>

<!-- Edit Blood Unit Modal -->
<div id="editBloodModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('editBloodModal')">&times;</span>
        <h4 class="modal-title">✏ Edit Blood Unit</h4>
        <label>Blood Type:</label>
        <select class="form-control">
            <option>A+</option>
            <option>A-</option>
            <option>B+</option>
            <option>B-</option>
            <option>O+</option>
            <option>O-</option>
            <option>AB+</option>
            <option>AB-</option>
        </select>
        <label>Available Units:</label>
        <input type="number" class="form-control" placeholder="Enter units">
        <label>Expiration Date:</label>
        <input type="date" class="form-control">
        <button class="btn btn-success mt-3">Update</button>
    </div>
</div>

<!-- Custom CSS for Modals and Table -->
<style>
    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 10;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        width: 90%;
        max-width: 400px;
        text-align: center;
        position: relative;
    }

    .close {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        cursor: pointer;
    }

    /* Table Styling */
    .table th, .table td {
        vertical-align: middle;
    }

    /* Responsive Table */
    .table-responsive {
        overflow-x: auto;
    }

    /* Responsive Design */
    @@media (max-width: 768px) {
        .d-flex

    {
        flex-direction: column;
        gap: 10px;
    }

    .form-control {
        width: 100%;
    }

    }
</style>

<!-- JavaScript for Search and Modal -->
<script>
    // Open Modal Function
    function openModal(modalId) {
        document.getElementById(modalId).style.display = "flex";
    }

    // Close Modal Function
    function closeModal(modalId) {
        document.getElementById(modalId).style.display = "none";
    }

    // Search Blood Type Function
    document.getElementById("searchInput").addEventListener("keyup", function () {
        let filter = this.value.toLowerCase();
        let rows = document.querySelectorAll("#inventoryTable tbody tr");

        rows.forEach(row => {
            let bloodType = row.cells[1].textContent.toLowerCase();
            row.style.display = bloodType.includes(filter) ? "" : "none";
        });
    });
</script>
